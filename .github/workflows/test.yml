# Unique name for this workflow
name: Hello World

# Definition when the workflow should run
on:
    workflow_dispatch:
        inputs:
            prerelease:
                description: 'Run on a prerelease org?'
                required: false
                type: boolean
    pull_request:
         types: [opened, edited, synchronize, reopened]
         branches:
            - master
         paths:
            - 'force-app/**'
# Jobs to be executed
jobs:
    # Dummy job used to skip CI run on automated PRs  my-job:
      my-job:
        runs-on: ubuntu-latest
        steps: 
            - name: Noop
              run: |
                  echo "Skipping CI run for automated PRs."
            - name: Checkout
              uses: actions/checkout@v4
              with:
                  fetch-depth: 2
            - name: Get changed files
              id: changed-files
              run: |
                echo "changed_files=$(git diff --name-only -r HEAD^1 HEAD | xargs)" >> $GITHUB_OUTPUT
            
            - name: List changed files
              run: |
                 for file in ${{ steps.changed-files.outputs.changed_files }}
                    do
                        if [[ $file = *test || $file = *Test ]]
                            then 
                                #var fileSet=["$file"];
                                var fileSet=["basename${file}"];
                                echo "$file was changed";
                        fi
                    done
                    
           
